function extend(a){return a.addClass=function(l){addClass(a,l)},a.removeClass=function(l){removeClass(a,l)},a}function isValid(a){return a===!0}function validateInput(a){if(inputIsValid=!1,!a.required)return!0;switch(a.type){case"email":inputIsValid=/\w+@[A-z0-9.]+/.test(a.value);break;case"password":var l=a.value;inputIsValid=l.length>8&&/\d+/.test(l)&&/[_\-!@#$%^&* `~]/.test(l);break;default:inputIsValid=a.value.length>0}return console.log(a.nextElementSibling.textContent+" valid? "+inputIsValid),inputIsValid?a.addClass("valid"):a.removeClass("valid"),inputIsValid}function formIsValid(){this.go&&(clearTimeout(this.go),delete this.go),this.go=setTimeout(function(){formula.addClass("persp")},500)}function formIsInvalid(){setTimeout(function(){formula.removeClass("persp")},500)}addClass=function(a,l){var e=a.className.indexOf(l);return e>-1?a:(a.className=(a.className+" "+l.trim()).trimLeft(),a)},removeClass=function(a,l){var e=a.className.indexOf(l);return 0>e?a:(a.className=a.className.replace(l.trim(),"").replace("  "," "),a)};var qq=function(a){return document.querySelectorAll(a)},formula_labels=qq(".formula label"),formula_inputs=qq(".formula input"),formula=extend(qq(".formula")[0]);[].forEach.call(formula_inputs,extend),[].forEach.call(formula_inputs,function(a){console.log(a.value),a.value.length>0&&a.addClass("focus"),a.onchange=a.onblur=function(){0===a.value.length?a.removeClass("focus"):a.addClass("focus")},a.onkeyup=function(){[].map.call(formula_inputs,validateInput).every(isValid)?formIsValid():formIsInvalid()}}),[].map.call(formula_inputs,validateInput).every(isValid)&&formIsValid(),[].forEach.call(formula_labels,function(a){a.onclick=function(){a.previousElementSibling.addClass("focus"),a.previousElementSibling.focus()}});var inputIsValid;